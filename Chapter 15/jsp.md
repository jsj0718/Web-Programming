# Chapter 15. JSP



## 01. JSP 개요

* 서버와 클라이언트

  * 클라이언트-사이드 : 인터넷에서 클라이언트 컴퓨터 쪽에서 실행되는 프로그램

    * 클라이언트: 서버에게 웹 페이지를 요구

  * 서버-사이드 : 웹 서버는 웹 페이지를 찾아서 클라이언트에게 전달

    * GCI(Common Gateway Interface) : 서버 쪽 도우미 프로그램

      C, Python, JAVA, PHP, ASP 등이 있다.

      그 중에서 Java는 플랫폼에 독립적이고 스레드를 사용할 수 있어서 효율적이며, 풍부한 라이브러리가 장점이다.

      자바를 서버 쪽에 사용하는 기술로 서블릿(Servlet) 이 있다.

      >* 서블릿 장점
      >
      >1. 효율적 (CGI는 서버 자원을 많이 사용하는데, 스레드를 생성하여 각 요청을 서비스하므로 효율적이다.)
      >
      >2. 편리 (이미 Java를 알고 있는 개발자는 새로운 스크립트 언어를 학습할 필요가 없다.)
      >
      >3. 강력 (자바 서블릿을 사용하면 기존 CGI으로 어려웠던 작업들을 쉽게 처리할 수 있다. 예를 들어 서블릿은 웹 서버와 직접 통신이 가능하다.)
      >
      >4. 이식성 존재 
      >
      >   (서블릿은 자바 언어를 사용하며, 표준화되어 있는 라이브러리를 사용한다. 
      >
      >   자바 자체가 바이트 코드로 작성된 코드를 가상 기계 위에서 실행하는 방식이므로 서블릿도 플랫폼 종류 상관없이 실행 가능하다.)
      >
      > 
      >
      >* 서블릿 단점
      >  1. 그러나 서블릿은 자바 언어 안에 HTML 코드를 넣어야 하므로 어려운 점이 존재했다. 
      >  2. 자바 개발자는 HTML을 모르고, 디자이너는 자바를 모르기 때문이다.
      >
      > 
      >
      >* JSP (Java Server Page)
      >
      >  JSP는 서블릿 단점을 해결하기 위해 개발되었다.
      >
      >  JSP는 자바를 기반으로 동적인 웹 페이지를 구축할 수 있는 서버-사이드 스크립트 언어로 자바 서블릿을 기반으로 한다.
      >
      >  JSP는 서블릿과 반대로, HTML 문서 안에 필요할 때만 자바 코드가 들어간다. 
      >
      >  개발자가 HTML 페이지 안에 필요할 때마다 (%...%)를 통해 삽입 가능하다.
      >
      > 
      >
      >* JSP 엔진
      >
      >  웹 서버가 JSP를 처리하기 위해서 JSP 엔진을 가지고 있어야 한다.
      >
      >  JSP 엔진이란 JSP를 처리하는 컨테이너이다.
      >
      >  JSP 컨테이너는 JSP 페이지에 대한 요청을 받는다.
      >
      >  (e.x. 아파치 톰캣이란 웹 서버는 JSP 컨테이너를 내장한다.)
      >
      >  JSP 컨테이너는 JSP가 필요로 하는 실행 환경과 다른 서비스를 제공하기 위해 웹 서버와 함께 작업한다.
      >
      >  JSP 컨테이너는 JSP에 속하는 요소를 처리하게 된다.
      >
      > 
      >
      >* JSP 처리 과정
      >  1. 클라이언트가 URL을 통해 JSP 페이지를 요청
      >  2. 웹 서버가 이 요청을 서블릿 컨테이너로 전송
      >  3. 서블릿 컨테이너는 요청된 JSP 페이지를 검색해 이것을 자바 파일로 변환 후 컴파일해서 서블릿 객체를 생성
      >  4. 이 객체가 서블릿 컨테이너에 로딩되어 실행
      >  5. 실행된 결과는 웹 서버를 통해 클라이언트에 응답 형태로 전달됨
      >  6. 이 변환은 한 번만 일어나므로 속도는 느려지지 않는다.